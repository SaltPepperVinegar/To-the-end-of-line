<!DOCTYPE html>
<html >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="generator" content="hevea 2.32">
<style type="text/css">
.li-itemize{margin:1ex 0ex;}
.li-enumerate{margin:1ex 0ex;}
.dd-description{margin:0ex 0ex 1ex 4ex;}
.dt-description{margin:0ex;}
.toc{list-style:none;}
.footnotetext{margin:0ex; padding:0ex;}
div.footnotetext P{margin:0px; text-indent:1em;}
.thefootnotes{text-align:left;margin:0ex;}
.dt-thefootnotes{margin:0em;}
.dd-thefootnotes{margin:0em 0em 0em 2em;}
.footnoterule{margin:1em auto 1em 0px;width:50%;}
.caption{padding-left:2ex; padding-right:2ex; margin-left:auto; margin-right:auto}
.title{margin:2ex auto;text-align:center}
.titlemain{margin:1ex 2ex 2ex 1ex;}
.titlerest{margin:0ex 2ex;}
.center{text-align:center;margin-left:auto;margin-right:auto;}
.flushleft{text-align:left;margin-left:0ex;margin-right:auto;}
.flushright{text-align:right;margin-left:auto;margin-right:0ex;}
div table{margin-left:inherit;margin-right:inherit;margin-bottom:2px;margin-top:2px}
td table{margin:auto;}
table{border-collapse:collapse;}
td{padding:0;}
.cellpadding0 tr td{padding:0;}
.cellpadding1 tr td{padding:1px;}
pre{text-align:left;margin-left:0ex;margin-right:auto;}
blockquote{margin-left:4ex;margin-right:4ex;text-align:left;}
td p{margin:0px;}
.boxed{border:1px solid black}
.textboxed{border:1px solid black}
.vbar{border:none;width:2px;background-color:black;}
.hbar{border:none;height:2px;width:100%;background-color:black;}
.hfill{border:none;height:1px;width:200%;background-color:black;}
.vdisplay{border-collapse:separate;border-spacing:2px;width:auto; empty-cells:show; border:2px solid red;}
.vdcell{white-space:nowrap;padding:0px; border:2px solid green;}
.display{border-collapse:separate;border-spacing:2px;width:auto; border:none;}
.dcell{white-space:nowrap;padding:0px; border:none;}
.dcenter{margin:0ex auto;}
.vdcenter{border:solid #FF8000 2px; margin:0ex auto;}
.minipage{text-align:left; margin-left:0em; margin-right:auto;}
.marginpar{border:solid thin black; width:20%; text-align:left;}
.marginparleft{float:left; margin-left:0ex; margin-right:1ex;}
.marginparright{float:right; margin-left:1ex; margin-right:0ex;}
.theorem{text-align:left;margin:1ex auto 1ex 0ex;}
.part{margin:2ex auto;text-align:center}
</style>
<title>Project Coding Guidelines
</title>
</head>
<body >
<!--HEVEA command line is: hevea codingstandards.tex -->
<!--CUT STYLE article--><!--CUT DEF section 1 --><table class="title"><tr><td style="padding:1ex"><h1 class="titlemain">Project Coding Guidelines</h1><h3 class="titlerest">Peter Schachte</h3></td></tr>
</table><blockquote class="quote">
<em>Commenting your code is like cleaning your bathroom &#X2014;
you never want to do it, but it really does create a more pleasant
experience for you and your guests.</em> <br>
 &#XA0;&#XA0;&#XA0;&#XA0;&#XA0; &#X2014; Ryan Campbell
</blockquote><p>Of course, your project submissions should closely follow the project
specification. But that is not enough to get
full marks for a programming project &#X2014; programs are also assessed on how
well-written they are. In the real world, programs must be
<em>maintained</em>, which means they must be read and understood by people
other than the original author. </p><p>Try taking the cold reader test: pretend you have not seen your program
before and consider how easy it is to understand. One good way to improve
your coding is to make a habit of reading other people&#X2019;s code. Learn what
makes code a pleasure to read and what makes it a chore.</p><p>This document lists a few factors that contribute to code quality. It is
intended to be programming language independent, so we use the term
<em>operation</em> to refer to whatever operational abstractions are provided
by the language, whether they be procedures, functions, methods, predicates
or even macros.</p><p>Each of these guidelines has exceptions, but you should know when you are
violating them, and have a very good reason.</p>
<!--TOC section id="sec1" Documentation-->
<h2 id="sec1" class="section">1&#XA0;&#XA0;Documentation</h2><!--SEC END --><p>
<a id="sec:doc"></a></p><p>Probably the most important factor in code quality is how well documented
your code is. By &#X201C;documentation&#X201D; here we refer not to supporting
documentation for your project, such as a System Requirements Specification.
Nor are we referring to end-user documentation, explaining how to use the
code. Such documentation is important, but it lies outside the scope of this
discussion. Here we refer to the documentation embedded in the code as
comments.</p>
<!--TOC subsection id="sec2" Sign your work-->
<h3 id="sec2" class="subsection">1.1&#XA0;&#XA0;Sign your work</h3><!--SEC END --><p>
At or very near the top of every source code file should be a few lines that
identify the programmer(s) and the file. It should contain your name, your
login id, and a one or two line summary of the purpose of the
file. This isn&#X2019;t bragging, it&#X2019;s admitting culpability for your mistakes.</p>
<!--TOC subsection id="sec3" Put first things first-->
<h3 id="sec3" class="subsection">1.2&#XA0;&#XA0;Put first things first</h3><!--SEC END --><p>
After this, the next thing to appear in a source file should explain the
purpose of the file in greater depth. It does not need to cover every
detail, but should well prepare the reader to read the code. It should
explain the role of that file in the overall program and any important
assumptions the implementation makes. For the main program file, it should
also explain the purpose of the program and the problem it solves. Do not
assume the reader knows what the code is for.</p>
<!--TOC subsection id="sec4" Explain your data-->
<h3 id="sec4" class="subsection">1.3&#XA0;&#XA0;Explain your data</h3><!--SEC END --><p>
It is also important to document the major data structures declared in each
file, outlining how each is used, preferably next to its declaration. For an
untyped language, where data types are not declared, this documentation
should be placed where you would put the declaration if there were one. Do
not duplicate this documentation everywhere the type is used.</p>
<!--TOC subsection id="sec5" Explain your operations-->
<h3 id="sec5" class="subsection">1.4&#XA0;&#XA0;Explain your operations</h3><!--SEC END --><p>
Each major operation should also be documented. This must include any
assumptions made by the implementation (other than what is made clear by the
types), as well as any changes it makes to its arguments or other data. It
is common to put this documentation in front of the code it documents, but
some programming languages may suggest an alternative convention for this.</p>
<!--TOC subsection id="sec6" Anticipate questions-->
<h3 id="sec6" class="subsection">1.5&#XA0;&#XA0;Anticipate questions</h3><!--SEC END --><p>
Recalling the cold reader test, file documentation should try to answer
questions a reader might have before she has them. For example, if a
particular algorithm has some subtleties, they should be documented before
the subtle code. Where the correctness of a piece of code relies on some
non-obvious analysis, that should be made clear. Similarly, important
properties of variables that hold at a particular point in the code through
all iterations (&#X201C;loop invariants&#X201D;), and indeed anything non-obvious that is
important to understand the code, should be documented.</p>
<!--TOC subsection id="sec7" Make it pretty-->
<h3 id="sec7" class="subsection">1.6&#XA0;&#XA0;Make it pretty</h3><!--SEC END --><p>
A program need not be a work of art, but spending a little time tidying it up
can make it much more readable. Lines should not be more than 79 columns, or
they will probably wrap around when it is printed, making the code very
difficult to read.</p><p>You should assume tab stops will be placed every 8 columns, this is the usual
default. That usually means that indenting nested code by a full tab stop
for each level of nesting will make it difficult to avoid violating the 79
column limit.</p>
<!--TOC subsection id="sec8" Be consistent-->
<h3 id="sec8" class="subsection">1.7&#XA0;&#XA0;Be consistent</h3><!--SEC END --><p>
Establish conventions for code layout, commenting style, identifier naming,
<span style="font-style:italic">etc.</span>, and stick to it. Being consistent with your style is more
important than the actual style you choose. This is more difficult, and more
important, when the code is developed by different programmers. Explicitly
establishing coding conventions at the start of a team project can save a lot
of trouble later.</p>
<!--TOC subsection id="sec9" Do not be repetitive and redundant-->
<h3 id="sec9" class="subsection">1.8&#XA0;&#XA0;Do not be repetitive and redundant</h3><!--SEC END --><p>
Do not document anything that should be obvious to anyone who knows the
programming language. Usually code is more succinct and
precise than any documentation you could write. Documenting the obvious
makes the program <em>harder</em> to read, because it makes it longer without
making it clearer. High level documentation is much more important than
documentation of individual lines of code.</p>
<!--TOC section id="sec10" Code-->
<h2 id="sec10" class="section">2&#XA0;&#XA0;Code</h2><!--SEC END --><p>Coding style varies from language to language, but some principles apply to most
languages. </p>
<!--TOC subsection id="sec11" Organise!-->
<h3 id="sec11" class="subsection">2.1&#XA0;&#XA0;Organise!</h3><!--SEC END --><p>
Code and data declarations should be presented in a file in the same way a
journalist presents an article: the most important part comes first, with
details presented later. A long program file, like a long article, should be
divided into sections, where each section covers a particular aspect of the
overall picture. Each section of code should include an introductory comment
visually separating it from the previous section, and briefly describing its
purpose. This puts closely related code close together, and establishes a
context for each chunk of code. It also makes the program easier to develop
and maintain, as it makes it easier to find code you have already written and
need to modify.</p><p>Some languages permit you to define operations in any order, making it easier
to organise your code as you would like. For other languages, you just have to
do your best using forward declarations or other language-specific features
to organise the code understandably.</p>
<!--TOC subsection id="sec12" Abstract!-->
<h3 id="sec12" class="subsection">2.2&#XA0;&#XA0;Abstract!</h3><!--SEC END --><p>
If you find yourself writing similar code repeatedly, you should look for a
way to abstract it into a separate piece of code that can be invoked from
many places in your code. Use parameters to allow different
uses. This has several advantages over copy-and-paste programming: the code
is easier to understand because it is clear how different uses differ (it is
much harder to see a small difference between two 20 line code sequences than
between two 1-line function calls). Since the code only appears in one
place, this also makes it much easier to make changes to the code.</p><p>There are many approaches to choosing the best abstractions to use for your
task; we cannot cover them adequately here. One approach that may help is to
try to choose the abstractions that are the simplest to explain.</p>
<!--TOC subsection id="sec13" Make code self-documenting-->
<h3 id="sec13" class="subsection">2.3&#XA0;&#XA0;Make code self-documenting</h3><!--SEC END --><p>
Each operation should have a well-defined purpose, and
its name should reflect that purpose. This may affect the way you abstract a
particular chunk of code. Names should also be chosen to distinguish similar
functionality; for example, <span style="font-family:monospace">biggest_region</span> and
<span style="font-family:monospace">largest_region</span> do not convey a distinction, whereas
<span style="font-family:monospace">tallest_region</span> and <span style="font-family:monospace">widest_region</span> do.</p><p>The same is true of constants. Do not litter your source code with constants
such as 12 or 7, instead define symbolic constants such as
<span style="font-family:monospace">MONTHS_PER_YEAR</span> and <span style="font-family:monospace">DAYS_PER_WEEK</span>. Note that the names
must be meaningful; using <span style="font-family:monospace">DOZEN</span> in place of 12 is not helpful. It
is generally not necessary to define symbolic constants for values with
obvious meanings such as 0 or 1, nor where there is no useful name, such as
the 2 and 4 in the quadratic formula.</p><p>A well-chosen name is better than a comment, because
it appears everywhere it is used.</p>
<!--TOC subsection id="sec14" Be brief-->
<h3 id="sec14" class="subsection">2.4&#XA0;&#XA0;Be brief</h3><!--SEC END --><p>
Names need not be long. When a name is too long, code can become
difficult to indent properly. Often you can rephrase, abbreviate, and omit
words from a name, without sacrificing clarity.</p><p>By the same token, individual operation definitions should not be too long.
It is difficult to understand a chunk of code when you cannot see it all at
once, so it is best to keep individual definitions to less than 50 lines. If
a definition gets longer than this, abstract out key parts of it into
separate operations, if possible.</p>
<!--TOC subsection id="sec15" Be consistent-->
<h3 id="sec15" class="subsection">2.5&#XA0;&#XA0;Be consistent</h3><!--SEC END --><p>
Be consistent in your coding, particularly in choosing identifiers. For
example, do not call a line count <span style="font-family:monospace">line_count</span> in one place in your
code, and <span style="font-family:monospace">num_lines</span> in another. Use the same
variable names for the same kinds of entities throughout your code.
Use the same abbreviations and capitalisation everywhere.</p><p>Many languages have established conventions for naming,
capitalisation, and even code layout. It is best to observe these
conventions, even if you do not like them, because it makes your code
easier to read for readers who know the language conventions. Similarly,
different languages have idiosyncratic ways to do things, and you should
follow those conventions where appropriate. Where there are no
widely agreed conventions, feel free to follow your own taste, but do so
consistently.</p>
<!--TOC subsection id="sec16" Use the right tool for the job-->
<h3 id="sec16" class="subsection">2.6&#XA0;&#XA0;Use the right tool for the job</h3><!--SEC END --><p>
Use the most appropriate language construct, primitive, or library operation
for the purpose at hand. Do not re-invent the wheel &#X2014; if an operation
similar to what you need is already defined, use it rather than writing your
own.</p>
<!--TOC subsection id="sec17" Keep it simple-->
<h3 id="sec17" class="subsection">2.7&#XA0;&#XA0;Keep it simple</h3><!--SEC END --><p>
Try to find the simplest, most succinct way to implement your operations. If
performance or other considerations force you to complicate the definition,
so be it. But it is usually worth trying the simplest approach first &#X2014; you
may be surprised how effective it is.</p>
<!--TOC section id="sec18" Assessment Criteria-->
<h2 id="sec18" class="section">3&#XA0;&#XA0;Assessment Criteria</h2><!--SEC END --><p>We use the following criteria to assess your program:</p><!--TOC subsubsection id="sec19" 1. Quality of file-level documentation-->
<h4 id="sec19" class="subsubsection">1. Quality of file-level documentation</h4><!--SEC END --><p>Each file should begin with a comment identifying the author and the
purpose of the file.
Students are not required (or encouraged) to include their student number.
For example, for a simple program, a file header comment like the following
should receive most or all of the marks for this criteria:
</p><pre class="verbatim">// Author:   Peter Schachte &lt;schachte@unimelb.edu.au&gt;
// Purpose:  Play rock-paper-scissors (RPS) against a human opponent
//
// We repeatedly play RPS against the user.  For each round of the
// game, the user enters one of "rock", "paper", or "scissors" to
// indicate their guess.  The computer then chooses one and decides
// the winner (paper beats rock, scissors beats paper, rock beats
// scissors).  If user and computer guess the same, it's a tie.  The
// computer than prints the result of the round and begins the next
// round.  The user quits by entering "quit" instead of a guess.
// Finally, the computer prints a summary of the results.
</pre><p>
For a more complex project, more text would be needed, but not every detail
needs to be included here. For example, this comment does not explain
what kind of summary is printed at the end. Each detail should be explained
in the part of the code responsible for that detail.
In a multi-module project, each non-main module should begin with a
comment explaining the purpose of that module.</p><!--TOC subsubsection id="sec20" 2. Quality of function- and type-level documentation-->
<h4 id="sec20" class="subsubsection">2. Quality of function- and type-level documentation</h4><!--SEC END --><p>
Each operation (except possibly trivial helpers) and
each type should have a description:
at least one or two sentences describing what it produces or
accomplishes.
Any operations whose behaviour or correctness is
complex should have a more thorough explanation.
It should be possible to understand the purpose of each item
from only the name and documentation, without having to read the code.</p><!--TOC subsubsection id="sec21" 3. Readability of code-->
<h4 id="sec21" class="subsubsection">3. Readability of code</h4><!--SEC END --><p>
The code should be easy to read if printed out in 80 column lines.
Wrapped lines will cost marks.
Code should look neat whether displayed with 4 or 8 column tab stops.
Code should be well organised and easy to navigate.
Any file more that a couple hundred lines should be broken up into
separate chunks of code, each devoted to some aspect of the file,
making it easy to find one&#X2019;s way around.
There should be no useless comments.</p><!--TOC subsubsection id="sec22" 4. Understandability of code-->
<h4 id="sec22" class="subsubsection">4. Understandability of code</h4><!--SEC END --><p>
The code itself should be easy to understand, with easily understood names
for variables, constants, and operations.
Any subtleties in the code should be explained.
The logic of each piece of code should be clear either from the code
itself or from the accompanying comments.</p><!--TOC subsubsection id="sec23" 5. Appropriate abstraction-->
<h4 id="sec23" class="subsubsection">5. Appropriate abstraction</h4><!--SEC END --><p>
Each variable, constant, and operation should have
a single purpose.
Each purpose should have a single variable, constant, or
operation that is responsible for it.
Each design decision should appear in only one place in the code,
to the extent permitted by the language.
Each piece of code should be as simple and clear as possible
(given any performance requirements).
There should be no repeated chunks of code, and no single 
operation definition should be longer than about 50 lines if
it can reasonably be avoided.
Shorter is better.</p><!--TOC subsubsection id="sec24" 6. Good use of language and libraries-->
<h4 id="sec24" class="subsubsection">6. Good use of language and libraries</h4><!--SEC END --><p>
The program should not implement operations supported by the library
(unless required by the project specification).
It should make the best possible use of the features of the
language (to the extent they have been covered in the subject).</p>
<!--TOC section id="sec25" Rubric-->
<h2 id="sec25" class="section">4&#XA0;&#XA0;Rubric</h2><!--SEC END --><p>
Each criterion will be assessed on this scale:
</p><blockquote class="quote">
<dl class="description"><dt class="dt-description">
<span style="font-weight:bold">5 </span>&#X2192;</dt><dd class="dd-description"> outstanding; practically flawless
</dd><dt class="dt-description"><span style="font-weight:bold">4 </span>&#X2192;</dt><dd class="dd-description"> very good, but not perfect
</dd><dt class="dt-description"><span style="font-weight:bold">3 </span>&#X2192;</dt><dd class="dd-description"> passable, but not great
</dd><dt class="dt-description"><span style="font-weight:bold">2 </span>&#X2192;</dt><dd class="dd-description"> unsatisfactory, but on the right track
</dd><dt class="dt-description"><span style="font-weight:bold">1 </span>&#X2192;</dt><dd class="dd-description"> very poor
</dd><dt class="dt-description"><span style="font-weight:bold">0 </span>&#X2192;</dt><dd class="dd-description"> no effort
</dd></dl>
</blockquote><p>
In general 5 is reserved for an unusually good job for that criterion,
0 for no sign of any work toward that criterion,
and 1 for a particularly poor job.
The majority of assessments are expected to fall between 2 and 4.
</p><!--CUT END -->
<!--HTMLFOOT-->
<!--ENDHTML-->
<!--FOOTER-->
<hr style="height:2"><blockquote class="quote"><em>This document was translated from L<sup>A</sup>T<sub>E</sub>X by
</em><a href="http://hevea.inria.fr/index.html"><em>H</em><em><span style="font-size:small"><sup>E</sup></span></em><em>V</em><em><span style="font-size:small"><sup>E</sup></span></em><em>A</em></a><em>.</em></blockquote></body>
</html>
